{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport style from \"./style.js\";\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pw = _useState4[0],\n      setPw = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      msg = _useState6[0],\n      setMsg = _useState6[1];\n\n  var login = function login() {\n    var url = \"http://10.87.207.20:8080/api/login\";\n    var data = {\n      \"user\": user,\n      \"senha\": pw\n    };\n    fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(data)\n    }).then(function (resp) {\n      if (resp.statusCode == 200) {\n        return resp.json();\n      } else {\n        setMsg(\"Usuario ou senha invalidos\");\n      }\n    }).then(function (data) {\n      if (data != undefined) {\n        navigation.navigate(\"Home\", data);\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  return React.createElement(View, {\n    style: style.body\n  }, React.createElement(View, null, React.createElement(Text, {\n    style: style.header\n  }, \"Login\")), React.createElement(View, {\n    style: style.inputs\n  }, React.createElement(TextInput, {\n    style: style.input,\n    placeholder: \"login\",\n    onChangeText: function onChangeText(value) {\n      setUser(value);\n    }\n  }), React.createElement(TextInput, {\n    style: style.input,\n    secureTextEntry: true,\n    placeholder: \"senha\",\n    onChangeText: function onChangeText(value) {\n      setPw(value);\n    }\n  })), React.createElement(TouchableOpacity, {\n    style: style.btn,\n    onPress: login\n  }, React.createElement(Text, {\n    style: style.btnText\n  }, \"Entrar\")));\n}","map":{"version":3,"sources":["C:/Users/aluno/Desktop/SENAI AULAS/2 DES/IDM/workspaceMobile/proj03/login/pages/login/index.js"],"names":["React","useState","style","Login","navigation","user","setUser","pw","setPw","msg","setMsg","login","url","data","fetch","method","body","JSON","stringify","then","resp","statusCode","json","undefined","navigate","catch","err","console","log","header","inputs","input","value","btn","btnText"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;;;;;AAEA,OAAOC,KAAP;AAGA,eAAe,SAASC,KAAT,OAA4B;AAAA,MAAZC,UAAY,QAAZA,UAAY;;AACvC,kBAAwBH,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAOI,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAoBL,QAAQ,CAAC,EAAD,CAA5B;AAAA;AAAA,MAAOM,EAAP;AAAA,MAAWC,KAAX;;AACA,mBAAsBP,QAAQ,CAAC,EAAD,CAA9B;AAAA;AAAA,MAAOQ,GAAP;AAAA,MAAYC,MAAZ;;AAEA,MAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAChB,QAAIC,GAAG,GAAG,oCAAV;AAEA,QAAIC,IAAI,GAAG;AACP,cAAQR,IADD;AAEP,eAASE;AAFF,KAAX;AAKAO,IAAAA,KAAK,CAACF,GAAD,EAAM;AACPG,MAAAA,MAAM,EAAE,MADD;AAEPC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf;AAFC,KAAN,CAAL,CAICM,IAJD,CAIM,UAAAC,IAAI,EAAI;AACV,UAAGA,IAAI,CAACC,UAAL,IAAmB,GAAtB,EAA0B;AACtB,eAAOD,IAAI,CAACE,IAAL,EAAP;AACH,OAFD,MAEK;AACDZ,QAAAA,MAAM,CAAC,4BAAD,CAAN;AACH;AACJ,KAVD,EAUGS,IAVH,CAUQ,UAAAN,IAAI,EAAI;AACZ,UAAGA,IAAI,IAAIU,SAAX,EAAqB;AACjBnB,QAAAA,UAAU,CAACoB,QAAX,CAAoB,MAApB,EAA4BX,IAA5B;AACH;AACJ,KAdD,EAcGY,KAdH,CAcS,UAAAC,GAAG,EAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAhBD;AAiBH,GAzBD;;AA2BA,SACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAExB,KAAK,CAACc;AAAnB,KACI,oBAAC,IAAD,QACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEd,KAAK,CAAC2B;AAAnB,aADJ,CADJ,EAII,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE3B,KAAK,CAAC4B;AAAnB,KACI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE5B,KAAK,CAAC6B,KAAxB;AAA+B,IAAA,WAAW,EAAC,OAA3C;AAAmD,IAAA,YAAY,EAAE,sBAACC,KAAD,EAAW;AAAC1B,MAAAA,OAAO,CAAC0B,KAAD,CAAP;AAAe;AAA5F,IADJ,EAEI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE9B,KAAK,CAAC6B,KAAxB;AAA+B,IAAA,eAAe,EAAE,IAAhD;AAAsD,IAAA,WAAW,EAAC,OAAlE;AAA0E,IAAA,YAAY,EAAE,sBAACC,KAAD,EAAW;AAACxB,MAAAA,KAAK,CAACwB,KAAD,CAAL;AAAa;AAAjH,IAFJ,CAJJ,EAQI,oBAAC,gBAAD;AAAkB,IAAA,KAAK,EAAE9B,KAAK,CAAC+B,GAA/B;AAAoC,IAAA,OAAO,EAAEtB;AAA7C,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAET,KAAK,CAACgC;AAAnB,cADJ,CARJ,CADJ;AAcH","sourcesContent":["import React, {useState} from 'react';\r\nimport {View, TouchableOpacity, Text, TextInput} from 'react-native';\r\nimport style from './style.js';\r\n\r\n\r\nexport default function Login({navigation}){\r\n    const [user, setUser] = useState(\"\");\r\n    const [pw, setPw] = useState(\"\");\r\n    const [msg, setMsg] = useState(\"\");\r\n\r\n    const login = () => {\r\n        let url = \"http://10.87.207.20:8080/api/login\";\r\n\r\n        let data = {\r\n            \"user\": user,\r\n            \"senha\": pw\r\n        }\r\n\r\n        fetch(url, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then(resp => {\r\n            if(resp.statusCode == 200){\r\n                return resp.json();\r\n            }else{\r\n                setMsg(\"Usuario ou senha invalidos\")\r\n            }\r\n        }).then(data => {\r\n            if(data != undefined){\r\n                navigation.navigate(\"Home\", data);\r\n            }\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    return(\r\n        <View style={style.body}>\r\n            <View>\r\n                <Text style={style.header}>Login</Text>\r\n            </View>\r\n            <View style={style.inputs}>\r\n                <TextInput style={style.input} placeholder=\"login\" onChangeText={(value) => {setUser(value)}}/>\r\n                <TextInput style={style.input} secureTextEntry={true} placeholder=\"senha\" onChangeText={(value) => {setPw(value)}}/>\r\n            </View>\r\n            <TouchableOpacity style={style.btn} onPress={login}>\r\n                <Text style={style.btnText}>Entrar</Text>\r\n            </TouchableOpacity>\r\n        </View>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}